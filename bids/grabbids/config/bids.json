{
    "index" : {
      "exclude" : [".*derivatives$", ".*models$", ".*sourcedata$", ".*code$"]
    },
    "entities": [
        {
            "name": "subject",
            "pattern": ".*sub-([a-zA-Z0-9]+)",
            "directory": "{{root}}/{subject}"
        },
        {
            "name": "session",
            "pattern": "ses-([a-zA-Z0-9]+)",
            "mandatory": false,
            "directory": "{{root}}/{subject}/{session}",
            "missing_value": "ses-1"
        },
        {
            "name": "run",
            "pattern": "run-(\\d+)"
        },
        {
            "name": "type",
            "pattern": "[._]*([a-zA-Z0-9]*?)\\.[^/\\\\]+$"
        },
        {
            "name": "task",
            "pattern": "task-(.*?)(?:_+)"
        },
        {
            "name": "scans",
            "pattern": "(.*\\_scans.tsv)$"
        },
        {
            "name": "echo",
            "pattern": "echo-([0-9]+)\\_bold."
        },
        {
            "name": "acquisition",
            "pattern": "acq-(.*?)(?:_+)"
        },
        {
            "name": "bval",
            "pattern": "(.*\\.bval)$"
        },
        {
            "name": "bvec",
            "pattern": "(.*\\.bvec)$"
        },
        {
            "name": "fmap",
            "pattern": "(phasediff|magnitude[1-2]|phase[1-2]|fieldmap|epi)\\.nii"
        },
        {
            "name": "modality",
            "pattern": "[/\\\\](func|anat|fmap|dwi)[/\\\\]"
        },
        {
            "name": "dir",
            "pattern": "dir-([a-zA-Z0-9]+)"
        },
        {
            "name": "recording",
            "pattern": "recording-([a-zA-Z0-9]+)"
        },
        {
            "name": "acq",
            "pattern": "acq-([a-zA-Z0-9]+)"
        }
    ],
    "default_path_patterns": [
        "sub-{subject}[/ses-{session}]/anat/sub-{subject}[_ses-{session}][_acq-{acquisition}][_ce-{contrast}][_rec-{reconstruction}]_{type}",
        "sub-{subject}[/ses-{session}]/anat/sub-{subject}[_ses-{session}][_acq-{acquisition}][_ce-{contrast}][_rec-{reconstruction}][_mod-{modality}]_defacemask",
        "sub-{subject}[/ses-{session}]/func/sub-{subject}[_ses-{session}][_task-{task}][_acq-{acquisition}][_rec-{reconstruction}][_run-{run}][_echo-{echo}]_{type}",
        "sub-{subject}[/ses-{session}]/dwi/sub-{subject}[_ses-{session}][_acq-{acquisition}]_{type}",
        "sub-{subject}[/ses-{session}]/fmap/sub-{subject}[_ses-{session}][_acq-{acquisition}][_dir-{direction}][_run-{run}]_{type}",
        "sub-{subject}[/ses-{session}]/func/sub-{subject}[_ses-{session}][_task-{task}][_acq-{acquisition}][_rec-{reconstruction}][_run-{run}][_echo-{echo}][_recording-{recording}]_physio.tsv"
    ]
}
