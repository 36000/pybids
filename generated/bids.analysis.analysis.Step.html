

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>bids.analysis.analysis.Step &mdash; PyBIDS 0.10.2+64.g1bf62ab documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="bids.reports.BIDSReport" href="bids.reports.BIDSReport.html" />
    <link rel="prev" title="bids.analysis.auto_model" href="bids.analysis.auto_model.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> PyBIDS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api.html#bids-layout-querying-bids-datasets"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bids.layout</span></code>: Querying BIDS datasets</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api.html#bids-analysis-model-specification-for-bids-datasets"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bids.analysis</span></code>: Model specification for BIDS datasets</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="bids.analysis.Analysis.html">bids.analysis.Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="bids.analysis.auto_model.html">bids.analysis.auto_model</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">bids.analysis.analysis.Step</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#bids-reports-data-acquisition-report-generation"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bids.reports</span></code>: Data acquisition report generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#bids-variables-variables"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bids.variables</span></code>: Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#bids-config-pybids-configuration-utilities"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bids.config</span></code>: PyBIDS Configuration utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#bids-utils-utility-functions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bids.utils</span></code>: Utility functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../whats_new.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyBIDS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../api.html">API Reference</a> &raquo;</li>
        
      <li>bids.analysis.analysis.Step</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/generated/bids.analysis.analysis.Step.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="bids-analysis-analysis-step">
<h1>bids.analysis.analysis.Step<a class="headerlink" href="#bids-analysis-analysis-step" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="bids.analysis.analysis.Step">
<em class="property">class </em><code class="sig-name descname">Step</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">level</em>, <em class="sig-param">index</em>, <em class="sig-param">name=None</em>, <em class="sig-param">transformations=None</em>, <em class="sig-param">model=None</em>, <em class="sig-param">contrasts=None</em>, <em class="sig-param">inputs=None</em>, <em class="sig-param">dummy_contrasts=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bids/analysis/analysis.html#Step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bids.analysis.analysis.Step" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a single analysis step from a BIDS-Model specification.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layout</strong> (<a class="reference internal" href="bids.layout.BIDSLayout.html#bids.layout.BIDSLayout" title="bids.layout.BIDSLayout"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bids.layout.BIDSLayout</span></code></a>) – The BIDSLayout containing all project files.</p></li>
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The BIDS keyword to use as the grouping variable; must be one of
[‘run’, ‘session’, ‘subject’, or ‘dataset’].</p></li>
<li><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The numerical index of the current Step within the sequence of steps.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – Optional name to assign to the step. Must be specified in order to
enable name-based indexing in the parent Analysis.</p></li>
<li><p><strong>transformations</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a>) – List of BIDS-Model transformations to apply.</p></li>
<li><p><strong>model</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a>) – The ‘model’ part of the BIDS-StatsModels specification.</p></li>
<li><p><strong>contrasts</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a>) – List of contrasts to apply to the parameter estimates generated when
the model is fit.</p></li>
<li><p><strong>inputs</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a>) – Optional list of BIDSVariableCollections to use as input to this Step
(typically, the outputs from the preceding Step).</p></li>
<li><p><strong>dummy_contrasts</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a>) – Optional dictionary specifying which conditions to create indicator
contrasts for. Dictionary must include a “type” key (‘t’ or ‘FEMA’),
and optionally a subset of “conditions”. This parameter is over-written
by the setting in setup() if the latter is passed.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#bids.analysis.analysis.Step.get_collections" title="bids.analysis.analysis.Step.get_collections"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_collections</span></code></a>(self, \*\*filters)</p></td>
<td><p>Returns BIDSVariableCollections at the current Step.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#bids.analysis.analysis.Step.get_contrasts" title="bids.analysis.analysis.Step.get_contrasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_contrasts</span></code></a>(self, collection[, names, …])</p></td>
<td><p>Return contrast information at this step for the passed collection.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#bids.analysis.analysis.Step.get_model_spec" title="bids.analysis.analysis.Step.get_model_spec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model_spec</span></code></a>(self, collection[, sampling_rate])</p></td>
<td><p>Get a ModelSpec instance for the passed collection.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#bids.analysis.analysis.Step.setup" title="bids.analysis.analysis.Step.setup"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setup</span></code></a>(self[, inputs, drop_na])</p></td>
<td><p>Set up the Step and construct the design matrix.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="bids.analysis.analysis.Step.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">layout</em>, <em class="sig-param">level</em>, <em class="sig-param">index</em>, <em class="sig-param">name=None</em>, <em class="sig-param">transformations=None</em>, <em class="sig-param">model=None</em>, <em class="sig-param">contrasts=None</em>, <em class="sig-param">inputs=None</em>, <em class="sig-param">dummy_contrasts=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bids/analysis/analysis.html#Step.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bids.analysis.analysis.Step.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#bids.analysis.analysis.Step.__init__" title="bids.analysis.analysis.Step.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(self, layout, level, index[, name, …])</p></td>
<td><p>Initialize self.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#bids.analysis.analysis.Step.get_collections" title="bids.analysis.analysis.Step.get_collections"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_collections</span></code></a>(self, \*\*filters)</p></td>
<td><p>Returns BIDSVariableCollections at the current Step.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#bids.analysis.analysis.Step.get_contrasts" title="bids.analysis.analysis.Step.get_contrasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_contrasts</span></code></a>(self, collection[, names, …])</p></td>
<td><p>Return contrast information at this step for the passed collection.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#bids.analysis.analysis.Step.get_model_spec" title="bids.analysis.analysis.Step.get_model_spec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model_spec</span></code></a>(self, collection[, sampling_rate])</p></td>
<td><p>Get a ModelSpec instance for the passed collection.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#bids.analysis.analysis.Step.setup" title="bids.analysis.analysis.Step.setup"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setup</span></code></a>(self[, inputs, drop_na])</p></td>
<td><p>Set up the Step and construct the design matrix.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="bids.analysis.analysis.Step.get_collections">
<code class="sig-name descname">get_collections</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">**filters</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bids/analysis/analysis.html#Step.get_collections"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bids.analysis.analysis.Step.get_collections" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns BIDSVariableCollections at the current Step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filters</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a>) – Optional keyword filters used to constrain which of the available
collections get returned (e.g., passing subject=[‘01’, ‘02’] will
return collections for only subjects ‘01’ and ‘02’).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>One instance per unit of the current analysis level (e.g., if
level=’run’, each element in the list represents the collection
for a single run).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of BIDSVariableCollection instances</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bids.analysis.analysis.Step.get_contrasts">
<code class="sig-name descname">get_contrasts</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">collection</em>, <em class="sig-param">names=None</em>, <em class="sig-param">variables=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bids/analysis/analysis.html#Step.get_contrasts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bids.analysis.analysis.Step.get_contrasts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return contrast information at this step for the passed collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>collection</strong> (<a class="reference internal" href="bids.variables.BIDSVariableCollection.html#bids.variables.BIDSVariableCollection" title="bids.variables.BIDSVariableCollection"><em>BIDSVariableCollection</em></a>) – The collection to generate/validate contrasts for.</p></li>
<li><p><strong>names</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a>) – Optional list of names of contrasts to return. If None (default),
all contrasts are returned.</p></li>
<li><p><strong>variables</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – Optional list of strings giving the names of design matrix columns
to use when generating the matrix of weights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of ContrastInfo namedtuples, one per contrast.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)">list</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The ‘variables’ argument take precedence over the natural process
of column selection. I.e., if a variable shows up in a contrast, but
isn’t named in variables, it will <em>not</em> be included in the result.</p>
</dd></dl>

<dl class="method">
<dt id="bids.analysis.analysis.Step.get_model_spec">
<code class="sig-name descname">get_model_spec</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">collection</em>, <em class="sig-param">sampling_rate='TR'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bids/analysis/analysis.html#Step.get_model_spec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bids.analysis.analysis.Step.get_model_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a ModelSpec instance for the passed collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>collection</strong> (<a class="reference internal" href="bids.variables.BIDSVariableCollection.html#bids.variables.BIDSVariableCollection" title="bids.variables.BIDSVariableCollection"><em>BIDSVariableCollection</em></a>) – The BIDSVariableCollection to construct a model for.</p></li>
<li><p><strong>sampling_rate</strong> (<em>{'TR'</em><em>, </em><em>'highest'}</em><em> or </em><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#float" title="(in Python v3.5)"><em>float</em></a>) – For run-level models, the sampling rate at which to generate the
design matrix. When ‘TR’, the repetition time is used, if
available, to select the sampling rate (1/TR). When ‘highest’, all
variables are resampled to the highest sampling rate of any
variable in the collection. The sampling rate may also be specified
explicitly in Hz. Has no effect on non-run-level collections.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A bids.analysis.model_spec.ModelSpec instance.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If the passed BIDSVariableCollection contains any sparse variables,
they will be automatically converted to dense (using the specified
sampling rate) before the ModelSpec is constructed. For non-run-level
collections, timing is irrelevant, so the design matrix is constructed
based on the “as-is” values found in each variable.</p>
</dd></dl>

<dl class="method">
<dt id="bids.analysis.analysis.Step.setup">
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">inputs=None</em>, <em class="sig-param">drop_na=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bids/analysis/analysis.html#Step.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bids.analysis.analysis.Step.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up the Step and construct the design matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a>) – Optional list of BIDSVariableCollections produced as output by the
preceding Step in the analysis. If None, uses inputs passed at
initialization (if any).</p></li>
<li><p><strong>drop_na</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – Boolean indicating whether or not to automatically drop events that
have a n/a amplitude when reading in data from event files.</p></li>
<li><p><strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a>) – Optional keyword arguments to pass onto load_variables.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bids.reports.BIDSReport.html" class="btn btn-neutral float-right" title="bids.reports.BIDSReport" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="bids.analysis.auto_model.html" class="btn btn-neutral float-left" title="bids.analysis.auto_model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Developers of PyBIDS

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>